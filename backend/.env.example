# arachne_fullstack Environment Variables

# === Project ===
PROJECT_NAME=arachne_fullstack
DEBUG=true
ENVIRONMENT=local

# === Logfire ===
# Get your token at https://logfire.pydantic.dev
LOGFIRE_TOKEN=
LOGFIRE_SERVICE_NAME=arachne_fullstack
LOGFIRE_ENVIRONMENT=development

# === PostgreSQL ===
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=arachne_fullstack

# === JWT Auth (EdDSA/Ed25519 Asymmetric) ===
# Generate Ed25519 keys with:
#   openssl genpkey -algorithm Ed25519 -out private_key.pem
#   openssl pkey -in private_key.pem -pubout -out public_key.pem
# Then convert to single-line format for .env:
#   awk 'NF {sub(/\r/, ""); printf "%s\\n",$0;}' private_key.pem

# Ed25519 Private Key for signing tokens (backend only - keep secret!)
# Required in production for EdDSA
JWT_PRIVATE_KEY=

# Ed25519 Public Key for verifying tokens (can be shared with frontend)
# Required in production for EdDSA
JWT_PUBLIC_KEY=

# Algorithm: EdDSA (recommended, Ed25519) or HS256 (fallback)
ALGORITHM=EdDSA

# Legacy secret key (used for CSRF, HS256 fallback)
# Generate with: openssl rand -hex 32
SECRET_KEY=change-me-in-production-use-openssl-rand-hex-32

# Token expiry (60 minutes recommended with auto-refresh)
ACCESS_TOKEN_EXPIRE_MINUTES=60

# === Internal API (Server-to-Server) ===
# Shared secret for Next.js frontend to bypass CSRF
# Generate with: openssl rand -hex 32
INTERNAL_API_KEY=

# === Redis ===
REDIS_HOST=localhost
REDIS_PORT=6379
# REDIS_PASSWORD=
REDIS_DB=0

# === Celery ===
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# === S3/MinIO Storage ===
S3_ENDPOINT=
S3_ACCESS_KEY=
S3_SECRET_KEY=
S3_BUCKET=arachne_fullstack
S3_REGION=us-east-1

# === AI Agent (pydantic_ai, openai) ===
OPENAI_API_KEY=
AI_MODEL=gpt-4o-mini
AI_TEMPERATURE=0.7

# === Academic Search APIs ===
# OpenAlex: API key for premium rate limits (optional, takes precedence over email)
OPENALEX_API_KEY=
# OpenAlex: Email for "polite pool" rate limits (optional, fallback if no API key)
OPENALEX_EMAIL=
# Semantic Scholar: API key for higher rate limits (optional)
SEMANTIC_SCHOLAR_API_KEY=

# === CORS ===
# JSON list of allowed origins (default: localhost:3000, localhost:8080)
# Note: "*" is blocked in production - specify explicit origins
CORS_ORIGINS=["http://localhost:3000","http://localhost:8080"]

# === Docker Production (Traefik) ===
# Domain for production deployment
DOMAIN=example.com

# Let's Encrypt email for SSL certificates
ACME_EMAIL=admin@example.com

# Traefik dashboard auth (generate with: htpasswd -nb admin password)
# TRAEFIK_DASHBOARD_AUTH=admin:$$apr1$$...
# Redis password for production
REDIS_PASSWORD=change-me-in-production
# Flower monitoring credentials
FLOWER_USER=admin
FLOWER_PASSWORD=change-me-in-production
